(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[286],{8783:function(e,t,a){Promise.resolve().then(a.bind(a,2889))},2889:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return N}});var s=a(9073),l=a(3794),r=a(2450),i=e=>{let{products:t,title:a}=e,[i,n]=(0,l.useState)(null),[c,d]=(0,l.useState)(!1),o=e=>{n(e),d(!0)};return(0,s.jsxs)("div",{className:"bg-white",children:[(0,s.jsxs)("div",{className:"mx-auto max-w-2xl px-4 py-8 sm:px-6 sm:py-10 lg:max-w-7xl lg:px-8",children:[(0,s.jsx)("h2",{id:"products-heading",className:"sr-only",children:a}),(0,s.jsx)("div",{className:"grid grid-cols-1 gap-x-6 gap-y-10 sm:grid-cols-2 lg:grid-cols-3 xl:gap-x-8",children:t.map(e=>(0,s.jsxs)("div",{className:"group cursor-pointer",onClick:()=>o(e),children:[(0,s.jsx)("div",{className:"aspect-h-1 aspect-w-1 w-full overflow-hidden rounded-lg sm:aspect-h-3 sm:aspect-w-2",children:(0,s.jsx)("img",{alt:e.imageAlt,src:e.imageSrc,className:"h-full w-full object-cover object-center group-hover:opacity-75"})}),(0,s.jsxs)("div",{className:"mt-4 flex items-center justify-between text-base font-medium text-gray-900",children:[(0,s.jsx)("h3",{children:e.name}),(0,s.jsx)("span",{className:"inline-flex items-center rounded-md bg-blue-50 px-2 py-1 text-xs font-medium text-blue-700 ring-1 ring-inset ring-blue-700/10",children:e.category})]}),(0,s.jsx)("p",{className:"mt-1 text-sm italic text-gray-500",children:e.stock>4?"موجود در انبار":e.stock>0?"کمتر از 5 عدد":(0,s.jsx)("span",{className:"text-red-500",children:"ناموجود"})})]},e.id))})]}),i&&(0,s.jsx)(r.Z,{product:i,open:c,setOpen:d})]})},n=a(4201),c=a(515),d=a(4890),o=a(974),m=a(3713),x=a(2688),h=a(3963),u=a.n(h),g=a(7336),p=a(9872),f=a(7065),j=a(9619);let y=(0,f.eI)(j.NF,j.QK),b=[{name:"کمترین قیمت",href:"#",sort:"asc"},{name:"بیشترین قیمت",href:"#",sort:"desc"}],v=[{id:"category",name:"دسته بندی",options:[{value:"ام دی اف",label:"ام دی اف",checked:!1},{value:"سوپرمات",label:"سوپرمات",checked:!1},{value:"پی وی سی",label:"پی وی سی",checked:!1},{value:"صفحه کابینت",label:"صفحه کابینت",checked:!1},{value:"نئوپان ملامینه",label:"نئوپان ملامینه",checked:!1},{value:"چوب طبیعی",label:"چوب طبیعی",checked:!1},{value:"هایگلاس",label:"هایگلاس",checked:!1},{value:"آنتی فینگر",label:"آنتی فینگر",checked:!1},{value:"ممبران",label:"ممبران",checked:!1},{value:"پلی گلاس",label:"پلی گلاس",checked:!1}]}];function N(){let[e,t]=(0,l.useState)(!1),[a,r]=(0,l.useState)(null),[h,f]=(0,l.useState)([]),[j,N]=(0,l.useState)([]),[w,k]=(0,l.useState)(!1),[S,C]=(0,l.useState)(!0),[E,z]=(0,l.useState)(0),Z=(0,l.useCallback)(async e=>{try{k(!0);let t=y.from("products").select("*").range(20*e,(e+1)*20-1);h.length>0&&(t=t.in("category",h)),a&&(t=t.order("price",{ascending:"asc"===a}));let{data:s,error:l}=await t;if(l)throw l;s&&(0===e?N(s):N(e=>[...e,...s]),C(20===s.length))}catch(e){console.error("Error fetching products:",e)}finally{k(!1)}},[h,a]);(0,l.useEffect)(()=>{z(0),Z(0)},[a,h,Z]);let _=(0,l.useCallback)(()=>{window.innerHeight+window.scrollY>=document.body.scrollHeight-20&&!w&&S&&z(e=>e+1)},[w,S]);(0,l.useEffect)(()=>(window.addEventListener("scroll",_),()=>window.removeEventListener("scroll",_)),[_]),(0,l.useEffect)(()=>{E>0&&Z(E)},[E,Z]);let O=(e,t)=>{f(a=>t?[...a,e]:a.filter(t=>t!==e))},H=(e,t)=>(0,s.jsx)("div",{className:"space-y-6",children:e.options.map((a,l)=>(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{value:a.value,checked:h.includes(a.value),onChange:e=>O(a.value,e.target.checked),id:"filter-".concat(t?"mobile-":"").concat(e.id,"-").concat(l),name:"".concat(e.id,"[]"),type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),(0,s.jsx)("label",{htmlFor:"filter-".concat(t?"mobile-":"").concat(e.id,"-").concat(l),className:"".concat(t?"mr-3 text-sm text-gray-500":"ml-3 whitespace-nowrap pr-6 text-sm font-medium text-gray-900"),children:a.label})]},a.value))}),P=j.map(e=>({id:e.id,name:e.name,href:"/products/".concat(e.id),price:e.price.toString(),description:e.description||"",imageSrc:e.image_src,imageAlt:e.image_alt||"",category:e.category,stock:e.stock,code:e.code,size:e.size||"",width:e.width||""}));return(0,s.jsxs)("main",{children:[(0,s.jsx)(u(),{children:(0,s.jsx)("title",{children:"محصولات | فروشگاه رضائی"})}),(0,s.jsxs)("div",{className:"bg-white",children:[(0,s.jsx)(g.Z,{}),(0,s.jsxs)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pt-32 pb-10 relative isolate",children:[(0,s.jsx)("div",{"aria-hidden":"true",className:"absolute inset-x-0 -top-40 -z-10 transform-gpu overflow-hidden blur-3xl sm:-top-80",children:(0,s.jsx)("div",{style:{clipPath:"polygon(74.1% 44.1%, 100% 61.6%, 97.5% 26.9%, 85.5% 0.1%, 80.7% 2%, 72.5% 32.5%, 60.2% 62.4%, 52.4% 68.1%, 47.5% 58.3%, 45.2% 34.5%, 27.5% 76.7%, 0.1% 64.9%, 17.9% 100%, 27.6% 76.8%, 76.1% 97.7%, 74.1% 44.1%)"},className:"relative left-[calc(50%-11rem)] aspect-[1155/678] w-[36.125rem] -translate-x-1/2 rotate-[30deg] bg-gradient-to-tr from-[#ff80b5] to-[#9089fc] opacity-30 sm:left-[calc(50%-30rem)] sm:w-[72.1875rem]"})}),(0,s.jsxs)("div",{className:"text-center",dir:"rtl",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl",children:"محصولات فروشگاه"}),(0,s.jsx)("p",{className:"mt-4 text-lg text-gray-500",children:"مجموعه ای متنوع از انواع ورق های چوبی"})]}),(0,s.jsx)("div",{"aria-hidden":"true",className:"absolute inset-x-0 top-[calc(100%-13rem)] -z-10 transform-gpu overflow-hidden blur-3xl sm:top-[calc(100%-30rem)] pointer-events-none",children:(0,s.jsx)("div",{style:{clipPath:"polygon(74.1% 44.1%, 100% 61.6%, 97.5% 26.9%, 85.5% 0.1%, 80.7% 2%, 72.5% 32.5%, 60.2% 62.4%, 52.4% 68.1%, 47.5% 58.3%, 45.2% 34.5%, 27.5% 76.7%, 0.1% 64.9%, 17.9% 100%, 27.6% 76.8%, 76.1% 97.7%, 74.1% 44.1%)"},className:"relative left-[calc(50%+3rem)] aspect-[1155/678] w-[36.125rem] -translate-x-1/2 bg-gradient-to-tr from-[#ff80b5] to-[#9089fc] opacity-30 sm:left-[calc(50%+36rem)] sm:w-[72.1875rem]"})})]}),(0,s.jsxs)("div",{className:"mt-2",children:[(0,s.jsxs)(n.Vq,{open:e,onClose:t,className:"relative z-50 sm:hidden",children:[(0,s.jsx)(n.ZR,{transition:!0,className:"fixed inset-0 bg-black bg-opacity-25 transition-opacity duration-300 ease-linear data-[closed]:opacity-0"}),(0,s.jsx)("div",{className:"fixed inset-0 z-40 flex",children:(0,s.jsxs)(n.EM,{transition:!0,className:"relative ml-auto flex h-full w-full max-w-xs transform flex-col overflow-y-auto bg-white py-4 pb-6 shadow-xl transition duration-300 ease-in-out data-[closed]:translate-x-full",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between px-4",children:[(0,s.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"فیلتر محصولات"}),(0,s.jsxs)("button",{type:"button",onClick:()=>t(!1),className:"-mr-2 flex h-10 w-10 items-center justify-center rounded-md bg-white p-2 text-gray-400 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[(0,s.jsx)("span",{className:"sr-only",children:"خروج"}),(0,s.jsx)(m.Z,{"aria-hidden":"true",className:"h-6 w-6"})]})]}),(0,s.jsx)("form",{className:"mt-4",children:v.map(e=>(0,s.jsxs)(c.pJ,{as:"div",className:"border-t border-gray-200 px-4 py-6",children:[(0,s.jsx)("h3",{className:"-mx-2 -my-3 flow-root",children:(0,s.jsxs)(c.lG,{className:"group flex w-full items-center justify-between bg-white px-2 py-3 text-sm text-gray-400",children:[(0,s.jsx)("span",{className:"font-medium text-gray-900",children:e.name}),(0,s.jsx)("span",{className:"ml-6 flex items-center",children:(0,s.jsx)(x.Z,{"aria-hidden":"true",className:"h-5 w-5 rotate-0 transform group-data-[open]:-rotate-180"})})]})}),(0,s.jsx)(c.V2,{className:"pt-6",children:H(e,!0)})]},e.name))})]})})]}),(0,s.jsxs)("section",{"aria-labelledby":"filter-heading",className:"mx-auto max-w-2xl px-4 pt-6 sm:px-6 lg:max-w-7xl lg:px-8",children:[(0,s.jsx)("h2",{id:"filter-heading",className:"sr-only",children:"فیلتر محصولات"}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("button",{type:"button",onClick:()=>t(!0),className:"inline-block text-sm font-medium text-gray-700 hover:text-gray-900 sm:hidden",children:"فیلتر ها"}),(0,s.jsx)(d.vb,{className:"hidden sm:flex sm:items-baseline sm:space-x-8",children:v.map((e,t)=>(0,s.jsxs)(d.J2,{className:"relative inline-block text-left",children:[(0,s.jsx)("div",{children:(0,s.jsxs)(d.O7,{className:"group inline-flex items-center justify-center text-sm font-medium text-gray-700 hover:text-gray-900",children:[(0,s.jsx)("span",{children:e.name}),0===t&&h.length>0&&(0,s.jsx)("span",{className:"mr-1.5 rounded bg-gray-200 px-1.5 py-0.5 text-xs font-semibold tabular-nums text-gray-700",children:h.length}),(0,s.jsx)(x.Z,{className:"-ml-1 mr-1 h-5 w-5 flex-shrink-0 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"})]})}),(0,s.jsx)(d.Hi,{transition:!0,className:"absolute right-0 z-10 mt-2 origin-top-right rounded-md bg-white p-4 shadow-2xl ring-1 ring-black ring-opacity-5 transition focus:outline-none data-[closed]:scale-95 data-[closed]:transform data-[closed]:opacity-0 data-[enter]:duration-100 data-[leave]:duration-75 data-[enter]:ease-out data-[leave]:ease-in",children:(0,s.jsx)("form",{className:"space-y-4",children:H(e,!1)})})]},e.name))}),(0,s.jsxs)(o.v2,{as:"div",className:"relative inline-block text-left",children:[(0,s.jsx)("div",{children:(0,s.jsxs)(o.j2,{className:"group inline-flex justify-center text-sm font-medium text-gray-700 hover:text-gray-900",children:["مرتب سازی",(0,s.jsx)(x.Z,{"aria-hidden":"true",className:"-ml-1 mr-1 h-5 w-5 flex-shrink-0 text-gray-400 group-hover:text-gray-500"})]})}),(0,s.jsx)(o.sd,{transition:!0,className:"absolute left-0 z-10 mt-2 w-40 origin-top-left rounded-md bg-white shadow-2xl ring-1 ring-black ring-opacity-5 transition focus:outline-none data-[closed]:scale-95 data-[closed]:transform data-[closed]:opacity-0 data-[enter]:duration-100 data-[leave]:duration-75 data-[enter]:ease-out data-[leave]:ease-in",children:(0,s.jsx)("div",{className:"py-1",children:b.map(e=>(0,s.jsx)(o.sN,{children:(0,s.jsx)("a",{href:e.href,onClick:()=>r(e.sort),className:"block px-4 py-2 text-sm font-medium text-gray-900 data-[focus]:bg-gray-100",children:e.name})},e.name))})})]})]})]}),(0,s.jsx)(i,{products:P,title:"لیست محصولات"}),w&&(0,s.jsx)("div",{className:"flex justify-center py-4",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})})]})]}),(0,s.jsx)(p.Z,{})]})}}},function(e){e.O(0,[855,547,533,55,8,209,111,244,355,102,744],function(){return e(e.s=8783)}),_N_E=e.O()}]);