(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[140],{5176:function(e,s,t){Promise.resolve().then(t.bind(t,8019))},3963:function(e,s){"use strict";function t(){return null}Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return t}}),("function"==typeof s.default||"object"==typeof s.default&&null!==s.default)&&void 0===s.default.__esModule&&(Object.defineProperty(s.default,"__esModule",{value:!0}),Object.assign(s.default,s),e.exports=s.default)},8019:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return u}});var a=t(9073),r=t(3794),n=t(3963),i=t.n(n),l=t(7065),d=t(9619),o=t(9509);let c=r.forwardRef(function(e,s){let{title:t,titleId:a,...n}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},n),t?r.createElement("title",{id:a},t):null,r.createElement("path",{fillRule:"evenodd",d:"M15.75 1.5a6.75 6.75 0 0 0-6.651 7.906c.067.39-.032.717-.221.906l-6.5 6.499a3 3 0 0 0-.878 2.121v2.818c0 .414.336.75.75.75H6a.75.75 0 0 0 .75-.75v-1.5h1.5A.75.75 0 0 0 9 19.5V18h1.5a.75.75 0 0 0 .53-.22l2.658-2.658c.19-.189.517-.288.906-.22A6.75 6.75 0 1 0 15.75 1.5Zm0 3a.75.75 0 0 0 0 1.5A2.25 2.25 0 0 1 18 8.25a.75.75 0 0 0 1.5 0 3.75 3.75 0 0 0-3.75-3.75Z",clipRule:"evenodd"}))}),m=(0,l.eI)(d.NF,d.QK);function u(){let[e,s]=(0,r.useState)(!1),[t,n]=(0,r.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[l,d]=(0,r.useState)(null),[u,x]=(0,r.useState)(null),g=e=>{let{name:s,value:t}=e.target;n(e=>({...e,[s]:t})),d(null),x(null)},f=()=>t.currentPassword&&t.newPassword&&t.confirmPassword?t.newPassword.length<6?(d("رمز عبور جدید باید حداقل ۶ کاراکتر باشد"),!1):t.newPassword===t.confirmPassword||(d("رمز عبور جدید و تکرار آن مطابقت ندارند"),!1):(d("لطفا تمام فیلدها را پر کنید"),!1),h=async e=>{if(e.preventDefault(),f()){s(!0);try{let{error:e}=await m.auth.updateUser({password:t.newPassword});if(e)throw e;x("رمز عبور با موفقیت تغییر کرد"),n({currentPassword:"",newPassword:"",confirmPassword:""})}catch(e){d(e.message||"خطا در تغییر رمز عبور")}finally{s(!1)}}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i(),{children:(0,a.jsx)("title",{children:"تنظیمات | فروشگاه رضائی"})}),(0,a.jsxs)("div",{className:"py-10",children:[(0,a.jsx)("header",{children:(0,a.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:(0,a.jsx)("h1",{className:"text-3xl font-bold leading-tight tracking-tight text-gray-900",children:"تنظیمات"})})}),(0,a.jsx)("main",{children:(0,a.jsx)("div",{className:"mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8",children:(0,a.jsxs)("form",{onSubmit:h,className:"space-y-12 sm:space-y-16",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-base font-semibold leading-7 text-gray-900",children:"تغییر رمز عبور"}),(0,a.jsxs)("div",{className:"mt-10 space-y-8 border-b border-gray-900/10 pb-12 sm:space-y-0 sm:divide-y sm:divide-gray-900/10 sm:border-t sm:pb-0",children:[(0,a.jsxs)("div",{className:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4 sm:py-6",children:[(0,a.jsx)("label",{htmlFor:"currentPassword",className:"block text-sm font-medium leading-6 text-gray-900 sm:pt-1.5",children:"رمز عبور فعلی"}),(0,a.jsx)("div",{className:"mt-2 sm:col-span-2 sm:mt-0",children:(0,a.jsx)("input",{type:"password",name:"currentPassword",id:"currentPassword",value:t.currentPassword,onChange:g,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:max-w-xl sm:text-sm sm:leading-6"})})]}),(0,a.jsxs)("div",{className:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4 sm:py-6",children:[(0,a.jsx)("label",{htmlFor:"newPassword",className:"block text-sm font-medium leading-6 text-gray-900 sm:pt-1.5",children:"رمز عبور جدید"}),(0,a.jsx)("div",{className:"mt-2 sm:col-span-2 sm:mt-0",children:(0,a.jsx)("input",{type:"password",name:"newPassword",id:"newPassword",value:t.newPassword,onChange:g,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:max-w-xl sm:text-sm sm:leading-6"})})]}),(0,a.jsxs)("div",{className:"sm:grid sm:grid-cols-3 sm:items-start sm:gap-4 sm:py-6",children:[(0,a.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium leading-6 text-gray-900 sm:pt-1.5",children:"تکرار رمز عبور جدید"}),(0,a.jsx)("div",{className:"mt-2 sm:col-span-2 sm:mt-0",children:(0,a.jsx)("input",{type:"password",name:"confirmPassword",id:"confirmPassword",value:t.confirmPassword,onChange:g,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:max-w-xl sm:text-sm sm:leading-6"})})]})]})]}),l&&(0,a.jsx)("div",{className:"rounded-md bg-red-50 p-4",children:(0,a.jsx)("p",{className:"text-sm text-red-700",children:l})}),u&&(0,a.jsx)("div",{className:"rounded-md bg-green-50 p-4",children:(0,a.jsx)("p",{className:"text-sm text-green-700",children:u})}),(0,a.jsx)("div",{className:"mt-6 flex items-center justify-end gap-x-6",children:(0,a.jsxs)("button",{type:"submit",disabled:e,className:"inline-flex justify-center rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 disabled:opacity-50",children:[e?"در حال ذخیره":"تغییر رمز عبور",e?(0,a.jsx)(o.Z,{className:"h-5 w-5 animate-spin text-white mr-2","aria-hidden":"true"}):(0,a.jsx)(c,{className:"h-5 w-5 text-white mr-2","aria-hidden":"true"})]})})]})})})]})]})}},9619:function(e,s,t){"use strict";t.d(s,{NF:function(){return a},QK:function(){return r}}),t(677).env.NEXT_PUBLIC_SHOW_LOGGER;let a="https://aqcfdwrgshzjnadidamy.supabase.co",r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFxY2Zkd3Jnc2h6am5hZGlkYW15Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzAwNDI2MTgsImV4cCI6MjA0NTYxODYxOH0.mZHOBtLvEFGRU25Cx_wR3dkv0OH2SrV6CfqkCe9G5UU"},9509:function(e,s,t){"use strict";var a=t(3794);let r=a.forwardRef(function(e,s){let{title:t,titleId:r,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},n),t?a.createElement("title",{id:r},t):null,a.createElement("path",{fillRule:"evenodd",d:"M4.755 10.059a7.5 7.5 0 0 1 12.548-3.364l1.903 1.903h-3.183a.75.75 0 1 0 0 1.5h4.992a.75.75 0 0 0 .75-.75V4.356a.75.75 0 0 0-1.5 0v3.18l-1.9-1.9A9 9 0 0 0 3.306 9.67a.75.75 0 1 0 1.45.388Zm15.408 3.352a.75.75 0 0 0-.919.53 7.5 7.5 0 0 1-12.548 3.364l-1.902-1.903h3.183a.75.75 0 0 0 0-1.5H2.984a.75.75 0 0 0-.75.75v4.992a.75.75 0 0 0 1.5 0v-3.18l1.9 1.9a9 9 0 0 0 15.059-4.035.75.75 0 0 0-.53-.918Z",clipRule:"evenodd"}))});s.Z=r}},function(e){e.O(0,[547,355,102,744],function(){return e(e.s=5176)}),_N_E=e.O()}]);